name: "cmake -G Ninja fails on Windows"
on:
  push:
    branches: [ master ]

jobs:
  demo:
    name: "cmake -G Ninja fails on Windows"
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2
      - uses: lukka/get-cmake@latest
      - uses: lukka/run-cmake@v3
        with:
          buildDirectory: ${{ github.workspace }}/build_fails
          cmakeAppendedArgs: '-GNinja 
          -DWITH_SET_TARGET_PROPERTIES_OUTPUT_NAME=on '
          cmakeListsOrSettingsJson: CMakeListsTxtBasic
          cmakeListsTxtPath: ${{ github.workspace }}/CMakeLists.txt
      - name: "List build directory"
        run: ls "${{ github.workspace }}/build_fails"
