name: Demo
on:
  push:
    branches: [ master ]

jobs:
  demo:
    name: Demo
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2
      - uses: lukka/get-cmake@latest
      - uses: lukka/run-cmake@v3
        with:
          buildDirectory: ${{ github.workspace }}/build
          cmakeAppendedArgs: '-G Ninja -DWITH_SET_TARGET_PROPERTIES_OUTPUT_NAME=on'
          cmakeListsOrSettingsJson: CMakeListsTxtBasic
          cmakeListsTxtPath: ${{ github.workspace }}/CMakeLists.txt
      - name: "List all files in build directory"
        run: find "${{ github.workspace }}/build"
        shell: bash
